{"version":3,"file":"static/js/427.e7c63c2b.chunk.js","mappings":"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","sources":["api/getMovies.js","components/MovieDetails/MovieDetails.styled.js","pages/MovieDetails.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nexport {\n  getTrendingMovie,\n  getMovieByKeyWord,\n  getMovieDetails,\n  getMovieCast,\n  getMovieReviews,\n};\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'dd2eacab57962d131eb2537d52aeafc3';\n\nfunction getTrendingMovie() {\n  return fetch(`${BASE_URL}trending/movie/day?api_key=${API_KEY}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error();\n      }\n      return response.json();\n    }\n  );\n}\n\nfunction getMovieByKeyWord(search) {\n  return fetch(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&query=${search}&include_adult=false`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error();\n    }\n    return response.json();\n  });\n}\n\nfunction getMovieDetails(id) {\n  return fetch(`${BASE_URL}movie/${id}?api_key=${API_KEY}`).then(response => {\n    if (!response.ok) {\n      throw new Error();\n    }\n    return response.json();\n  });\n}\n\nfunction getMovieCast(id) {\n  return fetch(`${BASE_URL}movie/${id}/credits?api_key=${API_KEY}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error();\n      }\n      return response.json();\n    }\n  );\n}\n\nfunction getMovieReviews(id) {\n  return fetch(`${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error();\n      }\n      return response.json();\n    }\n  );\n}\n\ngetMovieByKeyWord.propTypes = {\n  search: PropTypes.string.isRequired,\n};\n\ngetMovieDetails.propTypes = {\n  id: PropTypes.number.isRequired,\n};\n\ngetMovieCast.propTypes = {\n  id: PropTypes.number.isRequired,\n};\n\ngetMovieReviews.propTypes = {\n  id: PropTypes.number.isRequired,\n};\n","import styled from 'styled-components';\nimport { GrFormPreviousLink } from 'react-icons/gr';\nimport { Link } from 'react-router-dom';\n\nexport const Container = styled.div`\n  padding: 20px 0;\n`;\n\nexport const Wrapper = styled.div`\n  display: flex;\n  border-bottom: 2px solid gray;\n  padding-bottom: 10px;\n`;\n\nexport const MovieInfo = styled.div`\n  padding: 0 20px;\n`;\n\nexport const AddInfo = styled.div`\n  border-bottom: 2px solid gray;\n  line-height: 1.8rem;\n`;\n\nexport const Arrow = styled(GrFormPreviousLink)`\n  width: 25px;\n  height: 25px;\n`;\n\nexport const GoBack = styled(Link)`\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  color: black;\n  padding-bottom: 10px;\n`;\n","import React, { useRef, Suspense, useEffect, useState } from 'react';\nimport { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { getMovieDetails } from 'api/getMovies';\nimport {\n  Container,\n  Wrapper,\n  MovieInfo,\n  AddInfo,\n  Arrow,\n  GoBack,\n} from 'components/MovieDetails/MovieDetails.styled';\n\nexport default function MovieDetails() {\n  const { id } = useParams();\n  const location = useLocation();\n  const backLinkLocation = useRef(location.state?.from ?? '/movies');\n  const [title, setTitle] = useState('');\n  const [poster, setPoster] = useState('');\n  const [overview, setOverview] = useState('');\n  const [vote, setVote] = useState(null);\n  const [genres, setGenres] = useState([]);\n  const [release, setRelease] = useState(null);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    getMovieDetails(id)\n      .then(data => {\n        if (data) {\n          setTitle(data.title);\n          setPoster(data.poster_path);\n          setOverview(data.overview);\n          setVote(data.vote_average);\n          setGenres(data.genres);\n          setRelease(data.release_date);\n        }\n      })\n      .catch(error => {\n        setError(error);\n      });\n  }, [id]);\n\n  return (\n    <Container>\n      <GoBack to={backLinkLocation.current}>\n        <Arrow /> Go back\n      </GoBack>\n      <Wrapper>\n        <img\n          src={poster && `https://image.tmdb.org/t/p/w500/${poster}`}\n          width=\"240\"\n          alt={title}\n        />\n        <MovieInfo>\n          <h2>\n            {title} ({release?.slice(0, 4)})\n          </h2>\n          <p>User Score: {Math.round(vote * 10)}%</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h3>Genres</h3>\n          <p>{genres.map(genre => genre.name).join(' ')}</p>\n        </MovieInfo>\n      </Wrapper>\n      <AddInfo>\n        <p>Additional information</p>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n      </AddInfo>\n      {error && <p>Oops, something goes wrong</p>}\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </Container>\n  );\n}\n"],"names":["BASE_URL","API_KEY","getTrendingMovie","fetch","then","response","ok","Error","json","getMovieByKeyWord","search","getMovieDetails","id","getMovieCast","getMovieReviews","propTypes","PropTypes","Container","styled","Wrapper","MovieInfo","AddInfo","Arrow","GrFormPreviousLink","GoBack","Link","MovieDetails","useParams","location","useLocation","backLinkLocation","useRef","state","from","useState","title","setTitle","poster","setPoster","overview","setOverview","vote","setVote","genres","setGenres","release","setRelease","error","setError","useEffect","data","poster_path","vote_average","release_date","catch","to","current","src","width","alt","slice","Math","round","map","genre","name","join","Suspense","fallback"],"sourceRoot":""}